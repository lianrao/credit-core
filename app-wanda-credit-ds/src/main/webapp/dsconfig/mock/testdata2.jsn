{"gathererModule":{"classType":"com.wanda.credit.dsconfig.model.module.GathererModule","actions":[{"classType":"com.wanda.credit.dsconfig.model.action.VarDefineAction","conflicted":false,"exprs":[{"classType":"com.wanda.credit.dsconfig.model.expression.VarDefineCondExpr","exprStr":"{<#if loan_term??>'loan_term':${loan_term},</#if>  <#if loan_term_unit??>'loan_term_unit':${loan_term_unit},</#if>  <#if purpose??>'purpose':'${purpose}',</#if>  <#if apply_province??>'apply_province':'${apply_province}',</#if>  <#if apply_city??>'apply_city':'${apply_city}',</#if>  <#if apply_channel??>'apply_channel':'${apply_channel}',</#if>  <#if loan_date??>'loan_date':'${loan_date}',</#if> <#if cardId??>'card_number':'${cardId}',</#if>  <#if work_phone??>'work_phone':'${work_phone}',</#if>  <#if home_phone??>'home_phone':'${home_phone}',</#if>  <#if qq??>'qq':'${qq}',</#if>  <#if email??>'email':'${email}',</#if>  <#if diploma??>'diploma':'${diploma}',</#if>  <#if marriage??>'marriage':'${marriage}',</#if>  <#if house_property??>'house_property':'${house_property}',</#if>  <#if house_type??>'house_type':'${house_type}',</#if>  <#if registered_address??>'registered_address':'${registered_address}',</#if>  <#if home_address??>'home_address':'${home_address}',</#if>  <#if contact_address??>'contact_address':'${contact_address}',</#if>  <#if career??>'career':'${career}',</#if>  <#if applyer_type??>'applyer_type':'${applyer_type}',</#if>  <#if work_time??>'work_time':'${work_time}',</#if>  <#if company_name??>'company_name':'${company_name}',</#if>  <#if company_address??>'company_address':'${company_address}',</#if>  <#if company_industry??>'company_industry':'${company_industry}',</#if>  <#if company_type??>'company_type':'${company_type}',</#if>  <#if occupation??>'occupation':'${occupation}',</#if>  <#if annual_income??>'annual_income':'${annual_income}',</#if>  <#if is_cross_loan??>'is_cross_loan':'${is_cross_loan}',</#if>  <#if cross_loan_count??>'cross_loan_count':'${cross_loan_count}',</#if>  <#if is_liability_loan??>'is_liability_loan':'${is_liability_loan}',</#if>  <#if liability_loan_count??>'liability_loan_count':'${liability_loan_count}',</#if>  <#if is_id_checked??>'is_id_checked':'${is_id_checked}',</#if>  <#if contact1_relation??>'contact1_relation':'${contact1_relation}',</#if>  <#if contact1_name??>'contact1_name':'${contact1_name}',</#if>  <#if contact1_id_number??>'contact1_id_number':'${contact1_id_number}',</#if>  <#if contact1_mobile??>'contact1_mobile':'${contact1_mobile}',</#if>  <#if contact1_addr??>'contact1_addr':'${contact1_addr}',</#if>  <#if contact1_com_name??>'contact1_com_name':'${contact1_com_name}',</#if>  <#if contact1_com_addr??>'contact1_com_addr':'${contact1_com_addr}',</#if>  <#if contact2_relation??>'contact2_relation':'${contact2_relation}',</#if>  <#if contact2_name??>'contact2_name':'${contact2_name}',</#if>  <#if contact2_id_number??>'contact2_id_number':'${contact2_id_number}',</#if>  <#if contact2_mobile??>'contact2_mobile':'${contact2_mobile}',</#if>  <#if contact2_addr??>'contact2_addr':'${contact2_addr}',</#if>  <#if contact2_com_name??>'contact2_com_name':'${contact2_com_name}',</#if>  <#if contact2_com_addr??>'contact2_com_addr':'${contact2_com_addr}',</#if>  <#if contact3_relation??>'contact3_relation':'${contact3_relation}',</#if>  <#if contact3_name??>'contact3_name':'${contact3_name}',</#if>  <#if contact3_id_number??>'contact3_id_number':'${contact3_id_number}',</#if>  <#if contact3_mobile??>'contact3_mobile':'${contact3_mobile}',</#if>  <#if contact3_addr??>'contact3_addr':'${contact3_addr}',</#if>  <#if contact3_com_name??>'contact3_com_name':'${contact3_com_name}',</#if>  <#if contact3_com_addr??>'contact3_com_addr':'${contact3_com_addr}',</#if>  <#if contact4_relation??>'contact4_relation':'${contact4_relation}',</#if>  <#if contact4_name??>'contact4_name':'${contact4_name}',</#if>  <#if contact4_id_number??>'contact4_id_number':'${contact4_id_number}',</#if>  <#if contact4_mobile??>'contact4_mobile':'${contact4_mobile}',</#if>  <#if contact4_addr??>'contact4_addr':'${contact4_addr}',</#if>  <#if contact4_com_name??>'contact4_com_name':'${contact4_com_name}',</#if>  <#if contact4_com_addr??>'contact4_com_addr':'${contact4_com_addr}',</#if>  <#if contact5_relation??>'contact5_relation':'${contact5_relation}',</#if>  <#if contact5_name??>'contact5_name':'${contact5_name}',</#if>  <#if contact5_id_number??>'contact5_id_number':'${contact5_id_number}',</#if>  <#if contact5_mobile??>'contact5_mobile':'${contact5_mobile}',</#if>  <#if contact5_addr??>'contact5_addr':'${contact5_addr}',</#if>  <#if contact5_com_name??>'contact5_com_name':'${contact5_com_name}',</#if>  <#if contact5_com_addr??>'contact5_com_addr':'${contact5_com_addr}',</#if>  <#if ip_address??>'ip_address':'${ip_address}',</#if>  <#if token_id??>'token_id':'${token_id}',</#if>  <#if black_box??>'black_box':'${black_box}',</#if>  <#if name??>'name':'${name}',</#if>  <#if cardNo??>'id_number':'${cardNo}',</#if>  <#if mobileNo??>'mobile':'${mobileNo}'</#if> }","exprType":"fmr","name":"requestData","condition":null}]},{"classType":"com.wanda.credit.dsconfig.model.action.ConditionAction","conflicted":true,"exprs":[{"classType":"com.wanda.credit.dsconfig.model.expression.HttpRequestCondExpr","reqType":"post_http","timeout":10000,"rspMsgStyle":"json","condition":null,"headerParams":{"classType":"com.wanda.credit.dsconfig.model.expression.Expression","exprStr":"<@map name='riskRortheaderparams' value={'Content-Type':'application/json','X-Access-Token':'${token}'}></@map>","exprType":"fmr"},"bodyParams":{"classType":"com.wanda.credit.dsconfig.model.expression.Expression","exprStr":"<@map name='riskRortbodyparams' value=requestData?eval ></@map>","exprType":"fmr"},"fullUrl":{"classType":"com.wanda.credit.dsconfig.model.expression.Expression","exprStr":"${reqUrl}","exprType":"fmr"},"apiCall":null,"mockRspData":null}]},{"classType":"com.wanda.credit.dsconfig.model.action.TagAction","conflicted":true,"exprs":[{"classType":"com.wanda.credit.dsconfig.model.expression.TagCondExpr","exprStr":"tst_fail","exprType":"constant","condition":{"classType":"com.wanda.credit.dsconfig.model.expression.Expression","exprStr":"${!(rspData.code??) || !exist(rspData.code?c,'2001')}","exprType":"fmr"}}]},{"classType":"com.wanda.credit.dsconfig.model.action.ExceptionAction","conflicted":true,"exprs":[{"classType":"com.wanda.credit.dsconfig.model.expression.ExceptionCondExpr","exprStr":"数据源厂商返回异常","exprType":"fmr","condition":{"classType":"com.wanda.credit.dsconfig.model.expression.Expression","exprStr":"${!(rspData.code??)}","exprType":"fmr"},"loggingExpr":{"classType":"com.wanda.credit.dsconfig.model.expression.LoggingCondExpr","exprStr":"数据源返回数据格式不合法，详细信息:${forjsn(rspData)}","exprType":"fmr","level":"error"},"errCode":"STATUS_FAILED_SYS_DS_EXCEPTION"}]},{"classType":"com.wanda.credit.dsconfig.model.action.ExceptionAction","conflicted":true,"exprs":[{"classType":"com.wanda.credit.dsconfig.model.expression.ExceptionCondExpr","exprStr":"数据源厂商返回异常","exprType":"fmr","condition":{"classType":"com.wanda.credit.dsconfig.model.expression.Expression","exprStr":"${!exist(rspData.code?c,'2001')}","exprType":"fmr"},"loggingExpr":{"classType":"com.wanda.credit.dsconfig.model.expression.LoggingCondExpr","exprStr":"数据源返回异常，详细信息:${(rspData.msg)!''}","exprType":"fmr","level":"error"},"errCode":"STATUS_FAILED_SYS_DS_EXCEPTION"}]},{"classType":"com.wanda.credit.dsconfig.model.action.TagAction","conflicted":true,"exprs":[{"classType":"com.wanda.credit.dsconfig.model.expression.TagCondExpr","exprStr":"tst_fail","exprType":"constant","condition":{"classType":"com.wanda.credit.dsconfig.model.expression.Expression","exprStr":"${exist(rspData.data.success,'False','false')}","exprType":"fmr"}},{"classType":"com.wanda.credit.dsconfig.model.expression.TagCondExpr","exprStr":"tst_success","exprType":"constant","condition":null}]},{"classType":"com.wanda.credit.dsconfig.model.action.ExceptionAction","conflicted":true,"exprs":[{"classType":"com.wanda.credit.dsconfig.model.expression.ExceptionCondExpr","exprStr":"数据源厂商返回异常","exprType":"fmr","condition":{"classType":"com.wanda.credit.dsconfig.model.expression.Expression","exprStr":"${exist(rspData.data.success,'False','false')}","exprType":"fmr"},"loggingExpr":{"classType":"com.wanda.credit.dsconfig.model.expression.LoggingCondExpr","exprStr":"数据源返回异常，详细信息:${(rspData.data.reason_code)!''}  ${(rspData.data.reason_desc)!''}","exprType":"fmr","level":"error"},"errCode":"STATUS_FAILED_SYS_DS_EXCEPTION"}]},{"classType":"com.wanda.credit.dsconfig.model.action.RetDataAction","conflicted":true,"exprs":[{"classType":"com.wanda.credit.dsconfig.model.expression.SaveRetDataCondExpr","exprStr":"${forjsn(rspData.data)}","exprType":"fmr","prepareExpr":null,"condition":null,"querySqlPhase":null,"saveRetDataFlag":true,"savedParams":"name;cardNo;mobileNo"}]}]},"basicInfo":{"dsId":"ds_wdws_td_riskReport","dsName":"同盾信用报告","reqUrl":"http://10.213.128.91/gateway8000/data/preloan/wdkq_web","params":[{"name":"black_box"}]},"verifyModule":{"classType":"com.wanda.credit.dsconfig.model.module.VerifyModule","actions":[{"classType":"com.wanda.credit.dsconfig.model.action.ValidityAction","exprs":[{"classType":"com.wanda.credit.dsconfig.model.expression.ValidityCondExpr","exprStr":"传入参数不符合要求：邮件格式不正确","exprType":"constant","condition":null,"ruleName":{"classType":"com.wanda.credit.dsconfig.model.expression.Expression","exprStr":"regular(\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*)","exprType":"constant"},"fields":"email","errCode":"STATUS_WARN_DS_POLICE_PARAM_FAILED"}]}]},"varDefineAction":{"classType":"com.wanda.credit.dsconfig.model.action.VarDefineAction","conflicted":false,"exprs":[{"classType":"com.wanda.credit.dsconfig.model.expression.VarDefineCondExpr","exprStr":"mDuzUgGI5tVGY_wCmEuFS1IP","exprType":"constant","name":"key","condition":null}]}}